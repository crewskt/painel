<div id="app" v-cloak>

  <header class="header-wrap">
    <div class="header-row flex-row flex-middle flex-space">
      <div class="if-small">
        <div class="form-input dark">
          <div class="push-right">ðŸ”Ž</div>
          <input type="text" v-model="search" placeholder="Buscar Token" />
        </div>
      </div>
      <div class="text-primary if-medium">
        <h1 class="text-nowrap text-condense shadow-text">Spot Binance - Beta Bot</h1>
      </div>
      <div class="flex-row flex-middle">
        <div class="dropdown">
          <div class="form-input text-nowrap shadow-box">â–¼ {{ limit }}</div>
          <ul>
            <li @click="setLimit( 300 )"><span class="text-faded"> </span> Todos</li>
            <li @click="setLimit( 10 )"><span class="text-faded"> </span> 10</li>
            <li @click="setLimit( 20 )"><span class="text-faded"> </span> 20</li>
            <li @click="setLimit( 50 )"><span class="text-faded"> </span> 50</li>
            <li @click="setLimit( 100 )"><span class="text-faded"> </span> 100</li>
            <li @click="setLimit( 200 )"><span class="text-faded"> </span> 200</li>
            <li @click="setLimit( 300 )"><span class="text-faded"> </span> 300</li>
          </ul>
        </div>
        <div class="dropdown">
          <div class="form-input text-nowrap shadow-box">â–¼ {{ sortLabel }}</div>
          <ul>
            <li @click="sortBy( 'close', 'desc' )"><span class="text-faded"></span> PreÃ§o</li>
            <li @click="sortBy( 'assetVolume', 'desc' )"><span class="text-faded"></span> Volume</li>
            <li @click="sortBy( 'percent', 'desc' )"><span class="text-faded"></span> Porcentagem</li>
            <li @click="sortBy( 'trades', 'desc' )"><span class="text-faded"></span> Top Trades</li>
            <li @click="sortBy( 'volatility', 'desc' )"><span class="text-faded"></span> Volatilidade</li>
          </ul>
        </div>
        <div class="dropdown">
          <div class="form-input text-nowrap shadow-box">â–¼ {{ asset }}</div>
          <ul>
            <li @click="filterAsset( 'BTC' )"><span class="text-faded">Par:</span> BTC</li>
            <li @click="filterAsset( 'USDT' )"><span class="text-faded">Par:</span> USDT</li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <!-- price list grid -->
  <main class="main-wrap">
    <div class="main-grid-list">
      <div class="main-grid-item" v-for="c in coinsList" :key="c.symbol" :class="c.style">
        <div class="main-grid-info flex-row flex-top flex-stretch">
          <div class="flex-1 shadow-text">
            <div class="flex-row flex-top flex-space">
              <div class="text-left text-clip push-left">
                <h2 class="text-primary text-clip">{{ c.token }}</h2>
                <h2 class="text-bright text-clip">{{ c.close | toFixed( asset ) }}</h2>
                <h2 class="color text-big">{{ c.arrow }} {{ c.sign }}{{ c.percent | toFixed( 2 ) }}%</h2>
                <div class="text-clip">{{ c.sign }}{{ c.change | toFixed( asset ) }} <small class="text-faded">24h</small></div>
                <h5 class="text-bright text-clip">${{ c.assetVolume | toMoney }} <small class="text-bright">Volume</small></h5>
                <h5 class="text-bright text-clip">{{ c.arrow2 }} {{ c.volatility | toFixed( 2 ) }}% <small class="text-bright">Volatilidade</small></h5>
              </div>
              <div class="text-right">
                <div class="push-left">
                  <img v-if="c.icon" :src="c.icon" :alt="c.pair" style="width:35px;height:35px" />
                  <img v-else src="IMGNDISPONIVEL.PNG" alt="Imagem nÃ£o disponÃ­vel" style="width:35px;height:35px" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="main-grid-chart">
          <linechart :width="600" :height="200" :values="c.history"></linechart>
        </div>
      </div>
    </div>
  </main>

  <!-- socket loader -->
  <div class="loader-wrap" :class="{ 'visible': loaderVisible }">
    <img
      src="https://betabot.store/rastreador/logo2.png"
      alt="Crypto Image"
      v-if="status !== 3"
      class="loading"
      style="width: 350px; height: 350px;" 
    >
    <div v-if="status === 0"></div>
    <div v-if="status === 1"> </div>
    <div v-if="status === 2"> SEJA BEM-VINDO! </div>
  </div>
</div>
<!-- partial -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.min.js'></script>

</body>
